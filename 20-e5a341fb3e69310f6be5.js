(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{198:function(e,t,n){"use strict";var a=n(179),r=n(184),i=n(180),o=a.c.button.withConfig({displayName:"Button",componentId:"ekqulj-0"})([""," padding:0.25em 0.75em;font-weight:600;background:",";color:white;border-radius:3px;cursor:pointer;outline:none;&:hover{background:",";}"],r.b,i.d,i.c);t.a=o},239:function(e,t,n){e.exports=n.p+"static/heads-3a4387a375a9f322af1bb17bbec3eb2e.png"},240:function(e,t,n){e.exports=n.p+"static/eyes-1d403e0361ec627daed5887e6f74c0ae.png"},241:function(e,t,n){e.exports=n.p+"static/noses-a46f7deda35adb3a76e2f62ac3985ddb.png"},242:function(e,t,n){e.exports=n.p+"static/mouths-d4f2dbfb962cd78670c184372ed5f0c8.png"},243:function(e,t,n){e.exports=n.p+"static/hair-front-317437961cb5b9c3d537123f0c8b418a.png"},244:function(e,t,n){e.exports=n.p+"static/hair-back-1aa2b6c2cd2af370e1fa208c4d5fb85d.png"},245:function(e,t,n){e.exports=n.p+"static/hair-face-689c5cd5c4e660666d6e7c503bfcef70.png"},246:function(e,t,n){e.exports=n.p+"static/bodies-ee419526cef3852e1c90d300faec2634.png"},247:function(e,t,n){e.exports=n.p+"static/bodies-skin-637f269fc0a3fc1df5980f4ba66a9cbc.png"},248:function(e,t,n){e.exports=n.p+"static/accessory-front-e032f74a6c4b9a8b300483b53ffde18b.png"},249:function(e,t,n){e.exports=n.p+"static/accessory-back-87c70fc4c5159d2fdd6d209e31f3eb53.png"},275:function(e,t,n){"use strict";n.r(t);n(15);var a=n(0),r=n.n(a),i=n(179),o=n(182),c=(n(37),n(12),n(223)),l=n.n(c),u=(n(224),function(e,t,n){var a=Math.floor(e.width/t),r=Math.floor(e.height/n);return{image:e,size:a*r,sprite:function(r){var i=r%a,o=Math.floor(r/a),c=document.createElement("canvas");return c.width=t,c.height=n,c.getContext("2d").drawImage(e,i*t,o*n,t,n,0,0,t,n),c}}});n(26),n(22),n(59);function s(e,t,n,a,r,i,o){try{var c=e[i](o),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(a,r)}var f,d=function(e){return new Promise(function(t){var n=new Image;n.addEventListener("load",function(){return t(n)}),n.src=e})},p=function(){var e,t=(e=l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!f||f.length!==t.length){e.next=2;break}return e.abrupt("return",f);case 2:return e.next=4,Promise.all(t.map(d));case 4:return n=e.sent,f=n,e.abrupt("return",f);case 7:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function o(e){s(i,a,r,o,c,"next",e)}function c(e){s(i,a,r,o,c,"throw",e)}o(void 0)})});return function(e){return t.apply(this,arguments)}}(),h=function(e,t){var n=document.createElement("canvas");n.width=e.width,n.height=e.height;var a=n.getContext("2d");return a.fillStyle=t,a.fillRect(0,0,n.width,n.height),a.globalCompositeOperation="multiply",a.drawImage(e,0,0),a.globalCompositeOperation="destination-in",a.drawImage(e,0,0),n},m=function(e){var t=new Date,n=e.canvas.width,a=e.canvas.height;return setInterval(function(){var r=parseInt((new Date-t)/1e3*16)/16;e.save(),e.clearRect(0,0,n,a),e.translate(n/2,a/2),e.rotate(2*Math.PI*r);for(var i=0;i<16;i++)e.beginPath(),e.rotate(2*Math.PI/16),e.moveTo(15,0),e.lineTo(25,0),e.lineWidth=2,e.strokeStyle="rgba(0,0,0,"+i/16+")",e.stroke();e.restore()},1e3/30)},g=["#ffffff","#f6f6f6","#e4e4e4","#b6b6b6","#929292","#686868","#454545","#393939"],v=["#fbd1bf","#cb977f","#db6f56","#f0d0c8","#c19877","#956d4d","#633728","#5b3735","#eb9840","#e2deb5","#f7e1e1","#7e675f","#eee476","#87db73","#90daef","#d37b2d","#f7738c","#e24261","#b582d6","#bab163","#a8d676","#698b98","#58666b","#66586b","#e4e4e4","#b6b6b6","#929292","#686868","#454545","#393939","#5ff892","#5ec9c5","#fcc919","#30a4ee","#d651ee","#fa427a","#6554ce","#433b73","#683b73","#183f3a","#3e593e","#c3e0c1"];function b(e,t,n,a,r,i,o){try{var c=e[i](o),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(a,r)}var w=function(e){return Math.floor(Math.random()*e)},y=function(e){return function(t){return e[w(Math.min(t,e.length))]}},x=function(e){switch(e){case"lineart":return y(["#ffffff"]);case"greyscale":return y(g);default:return y(v)}},E=function(){var e,t=(e=l.a.mark(function e(t,a,r,i,o){var c,s,f,d,g,v,b,y,E,I,k,C,P,S,V,M,_,z,L,D,G,N,O,R,j,A,F,J,T,q,B,H,U;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=12),void 0===r&&(r=24),void 0===i&&(i=32),void 0===o&&(o="colors"),c=t.getContext("2d"),s=m(c),e.next=8,p([n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249)]);case 8:f=e.sent,d=f[0],g=f[1],v=f[2],b=f[3],y=f[4],E=f[5],I=f[6],k=f[7],C=f[8],P=f[9],S=f[10],clearInterval(s),c.fillStyle="#ffffff",c.fillRect(0,0,t.width,t.height),V=x(o),M=V(a),_=V(r),z=V(i),L=V(i),D=u(d,512,512),G=u(g,512,512),N=u(v,512,512),O=u(b,512,512),R=u(y,512,512),j=u(E,512,512),A=u(I,512,512),F=u(k,512,512),J=u(C,512,512),T=u(P,512,512),q=u(S,512,512),B=w(R.size),H=w(F.size),U=w(T.size),c.drawImage(h(q.sprite(U),L),0,0),c.drawImage(h(j.sprite(B),_),0,0),c.drawImage(h(J.sprite(H),M),0,0),c.drawImage(h(F.sprite(H),z),0,0),c.drawImage(h(D.sprite(w(D.size)),M),0,0),c.drawImage(O.sprite(w(O.size)),0,0),c.drawImage(G.sprite(w(G.size)),0,0),Math.random()<.1&&c.drawImage(h(A.sprite(w(8)),_),0,0),c.drawImage(h(N.sprite(w(N.size)),M),0,0),c.drawImage(h(R.sprite(B),_),0,0),c.drawImage(h(T.sprite(U),L),0,0);case 53:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function o(e){b(i,a,r,o,c,"next",e)}function c(e){b(i,a,r,o,c,"throw",e)}o(void 0)})});return function(e,n,a,r,i){return t.apply(this,arguments)}}(),I=n(198);function k(){var e=P(["\n        font-size: 0.9rem;\n    "]);return k=function(){return e},e}function C(){var e=P(["\n        width: 300px;\n        height: 300px;\n    "]);return C=function(){return e},e}function P(e,t){return t||(t=e.slice(0)),e.raw=t,e}var S=i.c.canvas.withConfig({displayName:"PortraitGenerator__Canvas",componentId:"ducuoy-0"})(["width:512px;height:512px;",""],o.a.phone(C())),V=i.c.div.withConfig({displayName:"PortraitGenerator__GeneratorOption",componentId:"ducuoy-1"})(["display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:0.5rem 0;",""],o.a.phone(k())),M=i.c.label.withConfig({displayName:"PortraitGenerator__OptionLabel",componentId:"ducuoy-2"})(["display:inline-block;width:16rem;"]),_=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={skinVariance:12,hairVariance:24,clothingVariance:v.length,fillStyle:"colors"},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.componentDidMount=function(){this.draw()},i.draw=function(){var e=this.state,t=e.skinVariance,n=e.hairVariance,a=e.clothingVariance,r=e.fillStyle;E(this.canvas,t,n,a,r)},i.download=function(){var e=this.canvas.toDataURL("image/png").replace("image/png","image/octet-stream");this.downloadLink.setAttribute("href",e)},i.render=function(){var e=this,t=this.state,n=t.skinVariance,a=t.hairVariance,i=t.clothingVariance,o=t.fillStyle;return r.a.createElement("div",null,r.a.createElement(S,{ref:function(t){e.canvas=t},width:"512",height:"512"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement(I.a,{onClick:function(){return e.draw()}},"New portrait")," ",r.a.createElement("a",{ref:function(t){e.downloadLink=t},download:"portrait.png"},r.a.createElement(I.a,{onClick:function(){return e.download()}},"Download"))),r.a.createElement("div",null,r.a.createElement(V,null,r.a.createElement(M,null,"Fill style"),r.a.createElement("select",{checked:v,value:o,onChange:function(t){return e.setState({fillStyle:t.target.value})}},r.a.createElement("option",{value:"colors"},"Colors"),r.a.createElement("option",{value:"greyscale"},"Greyscale"),r.a.createElement("option",{value:"lineart"},"Lineart"))),"colors"==o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null,r.a.createElement(M,null,"Skin color variance"),r.a.createElement("input",{type:"range",min:"6",max:v.length,step:"6",value:n,onChange:function(t){return e.setState({skinVariance:parseInt(t.target.value)})}})),r.a.createElement(V,null,r.a.createElement(M,null,"Hair color variance"),r.a.createElement("input",{type:"range",min:"6",max:v.length,step:"6",value:a,onChange:function(t){return e.setState({hairVariance:parseInt(t.target.value)})}})),r.a.createElement(V,null,r.a.createElement(M,null,"Clothing color variance"),r.a.createElement("input",{type:"range",min:"6",max:v.length,step:"6",value:i,onChange:function(t){return e.setState({clothingVariance:parseInt(t.target.value)})}})))))},a}(a.Component);t.default=_}}]);
//# sourceMappingURL=20-e5a341fb3e69310f6be5.js.map