(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{163:function(t,e,n){"use strict";var r=n(137),o=n(144),a=n(139),i=r.c.button.withConfig({displayName:"Button",componentId:"sc-3uo7g7-0"})([""," padding:0.25em 0.75em;font-weight:600;background:",";color:white;border-radius:3px;cursor:pointer;outline:none;&:hover{background:",";}"],o.b,a.d,a.c);e.a=i},202:function(t,e,n){"use strict";n(273);var r=n(10),o=n(203),a=n(14),i=/./.toString,l=function(t){n(15)(RegExp.prototype,"toString",t,!0)};n(22)(function(){return"/a/b"!=i.call({source:"a",flags:"b"})})?l(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?o.call(t):void 0)}):"toString"!=i.name&&l(function(){return i.call(this)})},203:function(t,e,n){"use strict";var r=n(10);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},273:function(t,e,n){n(14)&&"g"!=/./g.flags&&n(21).f(RegExp.prototype,"flags",{configurable:!0,get:n(203)})},276:function(t,e,n){"use strict";n.r(e);n(202),n(29);var r=n(6),o=n.n(r),a=(n(68),n(0)),i=n.n(a),l=n(168),c=n(153),u=n.n(c),s=n(169),p=function(t){return t.textContent},d=function(t){return[].slice.call(t)},f=function(t){return d(t.childNodes).map(p)},m=function(t){var e=f(t.querySelector("thead tr")),n=d(t.querySelectorAll("tbody tr")).map(f);return{headers:e,tableData:n.map(function(t){return Object(s.zipObject)(e,t)})}},g=n(137),h=n(163),b=g.c.div.withConfig({displayName:"components__StyledTableRoller",componentId:"zdcsbg-0"})(["margin:2rem 0;border:1px solid lightgrey;"]),y=g.c.div.withConfig({displayName:"components__StyledButtonsContainer",componentId:"zdcsbg-1"})(["position:relative;padding:0.5rem;&:after{position:absolute;top:-0.35rem;right:0.8rem;content:'âš„';font-size:2rem;color:grey;}"]),v=Object(g.c)(h.a).withConfig({displayName:"components__RollerButton",componentId:"zdcsbg-2"})(["margin-right:0.5rem;"]),E=g.c.div.withConfig({displayName:"components__StyledResult",componentId:"zdcsbg-3"})(["padding:0.5rem;border-top:1px solid lightgrey;background:#eee;"]),w=g.c.div.withConfig({displayName:"components__StyledResultValue",componentId:"zdcsbg-4"})(["margin-bottom:0.25rem;"]),S=g.c.span.withConfig({displayName:"components__StyledResultTitle",componentId:"zdcsbg-5"})(["font-weight:600;margin-right:0.25rem;"]),C=g.c.div.withConfig({displayName:"AppErrorBoundry__ErrorContainer",componentId:"lsxplv-0"})(["border:1px solid red;padding:0.5rem;"]),_=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).state={hasError:!1,errorDetails:null},e}return o()(e,t),e.getDerivedStateFromError=function(t){return{hasError:!0,errorDetails:t}},e.prototype.render=function(){var t=this.state,e=t.hasError,n=t.errorDetails;return e?i.a.createElement(C,null,n.toString()):this.props.children},e}(a.Component),x=function(t){var e=t.buttons,n=t.rollResult;return i.a.createElement(y,null,e.map(function(t,e){var r=t[0],o=t[1];return i.a.createElement(v,{key:e,onClick:function(){return n(o)}},r)}))},D=function(t){var e=t.result;return i.a.createElement(E,null,Object(l.toPairs)(e).map(function(t,e){var n=t[0],r=t[1];return i.a.createElement(w,{key:e},i.a.createElement(S,null,n,": "),i.a.createElement("span",null,r))}))},O=Object(l.omitBy)(function(t,e){return Object(l.startsWith)("~~",e)}),R=function(t){var e=t.tableData,n=t.fields,r=n["~~roll"]||"d"+e.length,o=e[u.a.roll(r).total-1];return Object(l.mapValues)(function(t,e){return function(n){if(t[n])return t[n];if(n.indexOf(":")>0){var r=function(t){return t.split(":")}(n),o=r[0],a=r[1],i=u.a.roll(o).total-1;return e[i][a]}return function(t){return t.indexOf("|")>0}(n)?Object(l.sample)(function(t){return t.split("|")}(n)):u.a.roll(n).total}}(o,e))(n)},k=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).state={results:[]},e}o()(e,t);var n=e.prototype;return n.componentDidMount=function(){if(this.props.table){var t,e=(t=this.props.table,document.querySelector('*[data-table-marker="'+t+'"]').nextElementSibling),n=m(e),r=n.headers,o=n.tableData;this.setState({headers:r,tableData:o})}},n.rollResult=function(t){try{var e=this.state,n=e.tableData,r=void 0===n?[{}]:n,o=e.headers,a=void 0===o?[]:o,i=e.results,l=t||a.reduce(function(t,e){var n;return Object.assign({},t,((n={})[e]=e,n))},{}),c=t["~~resultType"]||"replace",u=O(R({tableData:r,fields:l}));this.setState({results:"append"===c?i.concat([u]):[u]})}catch(t){this.setState({error:t})}},n.render=function(){var t=this,e=this.props.buttons,n=this.state,r=(n.tableData,n.results),o=n.error;if(o)return i.a.createElement(C,null,o.toString());var a=e&&JSON.parse(e);return i.a.createElement(b,null,i.a.createElement(x,{buttons:a,rollResult:function(e){return t.rollResult(e)}}),r.map(function(t,e){return i.a.createElement(D,{key:e,result:t})}))},e}(a.Component);e.default=function(t){return i.a.createElement(_,null,i.a.createElement(k,t))}}}]);
//# sourceMappingURL=16-cb8ce7f39dd4f9a92788.js.map