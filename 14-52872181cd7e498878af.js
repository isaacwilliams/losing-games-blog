(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{157:function(t,e,r){"use strict";var n=r(135),o=r(142),a=r(137),i=n.c.button.withConfig({displayName:"Button",componentId:"sc-3uo7g7-0"})([""," padding:0.25em 0.75em;font-weight:600;background:",";color:white;border-radius:3px;cursor:pointer;outline:none;&:hover{background:",";}"],o.b,a.d,a.c);e.a=i},274:function(t,e,r){"use strict";r.r(e);r(199),r(29);var n=r(6),o=r.n(n),a=(r(68),r(0)),i=r.n(a),l=r(162),c=r(151),u=r.n(c),s=r(271),d=function(t){return t.textContent},p=function(t){return[].slice.call(t)},m=function(t){return p(t.childNodes).map(d)},f=function(t){var e=m(t.querySelector("thead tr")),r=p(t.querySelectorAll("tbody tr")).map(m);return{headers:e,tableData:r.map(function(t){return Object(s.zipObject)(e,t)})}},h=r(135),b=r(157),g=h.c.div.withConfig({displayName:"components__StyledTableRoller",componentId:"zdcsbg-0"})(["margin:2rem 0;border:1px solid lightgrey;"]),y=h.c.div.withConfig({displayName:"components__StyledButtonsContainer",componentId:"zdcsbg-1"})(["position:relative;padding:0.5rem;&:after{position:absolute;top:-0.35rem;right:0.8rem;content:'âš„';font-size:2rem;color:grey;}"]),v=Object(h.c)(b.a).withConfig({displayName:"components__RollerButton",componentId:"zdcsbg-2"})(["margin-right:0.5rem;"]),E=h.c.div.withConfig({displayName:"components__StyledResult",componentId:"zdcsbg-3"})(["padding:0.5rem;border-top:1px solid lightgrey;background:#eee;"]),w=h.c.div.withConfig({displayName:"components__StyledResultValue",componentId:"zdcsbg-4"})(["margin-bottom:0.25rem;"]),S=h.c.span.withConfig({displayName:"components__StyledResultTitle",componentId:"zdcsbg-5"})(["font-weight:600;margin-right:0.25rem;"]),C=h.c.div.withConfig({displayName:"AppErrorBoundry__ErrorContainer",componentId:"lsxplv-0"})(["border:1px solid red;padding:0.5rem;"]),_=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).state={hasError:!1,errorDetails:null},e}return o()(e,t),e.getDerivedStateFromError=function(t){return{hasError:!0,errorDetails:t}},e.prototype.render=function(){var t=this.state,e=t.hasError,r=t.errorDetails;return e?i.a.createElement(C,null,r.toString()):this.props.children},e}(a.Component),D=function(t){var e=t.buttons,r=t.rollResult;return i.a.createElement(y,null,e.map(function(t,e){var n=t[0],o=t[1];return i.a.createElement(v,{key:e,onClick:function(){return r(o)}},n)}))},O=function(t){var e=t.result;return i.a.createElement(E,null,Object(l.toPairs)(e).map(function(t,e){var r=t[0],n=t[1];return i.a.createElement(w,{key:e},i.a.createElement(S,null,r,": "),i.a.createElement("span",null,n))}))},k=Object(l.omitBy)(function(t,e){return Object(l.startsWith)("~~",e)}),N=function(t){var e=t.tableData,r=t.fields,n=r["~~roll"]||"d"+e.length,o=e[u.a.roll(n).total-1];return Object(l.mapValues)(function(t,e){return function(r){if(t[r])return t[r];if(r.indexOf(":")>0){var n=function(t){return t.split(":")}(r),o=n[0],a=n[1],i=u.a.roll(o).total-1;return e[i][a]}return function(t){return t.indexOf("|")>0}(r)?Object(l.sample)(function(t){return t.split("|")}(r)):u.a.roll(r).total}}(o,e))(r)},j=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).state={results:[]},e}o()(e,t);var r=e.prototype;return r.componentDidMount=function(){if(this.props.table){var t,e=(t=this.props.table,document.querySelector('*[data-table-marker="'+t+'"]').nextElementSibling),r=f(e),n=r.headers,o=r.tableData;this.setState({headers:n,tableData:o})}},r.rollResult=function(t){try{var e=this.state,r=e.tableData,n=void 0===r?[{}]:r,o=e.headers,a=void 0===o?[]:o,i=e.results,l=t||a.reduce(function(t,e){var r;return Object.assign({},t,((r={})[e]=e,r))},{}),c=t["~~resultType"]||"replace",u=k(N({tableData:n,fields:l}));this.setState({results:"append"===c?i.concat([u]):[u]})}catch(t){this.setState({error:t})}},r.render=function(){var t=this,e=this.props.buttons,r=this.state,n=(r.tableData,r.results),o=r.error;if(o)return i.a.createElement(C,null,o.toString());var a=e&&JSON.parse(e);return i.a.createElement(g,null,i.a.createElement(D,{buttons:a,rollResult:function(e){return t.rollResult(e)}}),n.map(function(t,e){return i.a.createElement(O,{key:e,result:t})}))},e}(a.Component);e.default=function(t){return i.a.createElement(_,null,i.a.createElement(j,t))}}}]);
//# sourceMappingURL=14-52872181cd7e498878af.js.map