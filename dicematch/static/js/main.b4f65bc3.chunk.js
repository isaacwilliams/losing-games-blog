(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,n,t){e.exports=t(320)},166:function(e,n,t){},291:function(e,n,t){e.exports=t.p+"static/media/icon-help.c70881f6.svg"},292:function(e,n,t){e.exports=t.p+"static/media/icon-settings.9693a6fc.svg"},293:function(e,n,t){e.exports=t.p+"static/media/dicematch-logo-wide.715a1ddf.svg"},320:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(57),i=t.n(c),o=(t(166),t(23)),u=t(24),l=t(27),s=t(25),d=t(28),f=t(3),m=t(26),b=t(2),v=t(58),g=t.n(v),p=t(145),h=t(6),O=t(7),E=t(34),j=t(9),y={ADD_SCORE:"ADD_SCORE",UPDATE_DIE:"UPDATE_DIE",REMOVE_DIE:"REMOVE_DIE",ADD_DIE:"ADD_DIE",MOVE_DIE:"MOVE_DIE",CASCADE_DICE:"CASCADE_DICE",INPUT_DISABLE:"INPUT_DISABLE",INPUT_ENABLE:"INPUT_ENABLE",ADD_MOVES:"ADD_MOVES",SET_LEVEL:"SET_LEVEL",GAME_END:"GAME_END",GAME_RESET:"GAME_RESET",OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",SET_THEME:"SET_THEME"},x={UP:"UP",DOWN:"DOWN",RANDOM:"RANDOM",BLOCKER:"BLOCKER",FLIP:"FLIP",BOMB:"BOMB"},S="ACTIVE",w="FINISHED",D="HELP",k="SETTINGS",_=5,z=6;function A(){var e=Object(f.a)(["\n    ","\n    ","\n"]);return A=function(){return e},e}function M(){var e=Object(f.a)(["\n    ","\n    ","\n"]);return M=function(){return e},e}function T(){var e=Object(f.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    transform: translate3d(0, 0, 0);\n"]);return T=function(){return e},e}function C(){var e=Object(f.a)(["\n    position: relative;\n"]);return C=function(){return e},e}function I(){var e=Object(f.a)(["\n                animation: "," ","ms linear forwards;\n                transform-origin: top center;\n            "]);return I=function(){return e},e}function B(){var e=Object(f.a)(["\n                animation: "," 100ms ease-in-out forwards;\n            "]);return B=function(){return e},e}function N(){var e=Object(f.a)(["\n                animation: "," 10ms linear infinite;\n            "]);return N=function(){return e},e}function L(){var e=Object(f.a)(["\n                animation: "," ","ms linear forwards;\n                transform-origin: bottom center;\n            "]);return L=function(){return e},e}function P(){var e=Object(f.a)(["\n                animation: "," ","ms linear forwards;\n                transform-origin: bottom center;\n            "]);return P=function(){return e},e}function R(){var e=Object(f.a)(["\n                animation: "," 100ms ease-in-out forwards;\n            "]);return R=function(){return e},e}function U(){var e=Object(f.a)(["\n                animation: "," 10ms linear infinite;\n            "]);return U=function(){return e},e}function G(){var e=Object(f.a)(["\n                animation: "," ","ms linear forwards;\n                transform-origin: top center;\n            "]);return G=function(){return e},e}function F(){var e=Object(f.a)(["\n    0% {\n        transform: rotate(0deg);\n    }\n    25% {\n        transform: rotate(-","deg);\n    }\n    50% {\n      transform: rotate(0deg);\n    }\n    75% {\n        transform: rotate(","deg);\n    }\n"]);return F=function(){return e},e}function V(){var e=Object(f.a)(["\n    0% { transform: scaleX(1); filter: brightness(1); }\n    100% { transform: scaleX(0); filter: brightness(0.5); }\n"]);return V=function(){return e},e}function W(){var e=Object(f.a)(["\n    0% { transform: scaleX(0); filter: brightness(0.5); }\n    100% { transform: scaleX(1); filter: brightness(1); }\n"]);return W=function(){return e},e}function H(){var e=Object(f.a)(["\n    0% { transform: scaleY(1); filter: brightness(1); }\n    100% { transform: scaleY(0); filter: brightness(0.5); }\n"]);return H=function(){return e},e}function K(){var e=Object(f.a)(["\n    0% { transform: scaleY(0); filter: brightness(0.5); }\n    100% { transform: scaleY(1); filter: brightness(1); }\n"]);return K=function(){return e},e}var X=Object(b.e)(K()),J=Object(b.e)(H()),Y=Object(b.e)(W()),q=Object(b.e)(V()),Q=function(e){return Object(b.e)(F(),e,e)},Z=b.d.div(C()),$=Object(b.c)(T()),ee=b.d.div(M(),$,function(e){var n=e.dieType;e.diceSize;if(!e.animate)return null;switch(n){case x.DOWN:return Object(b.c)(G(),X,200);case x.RANDOM:return Object(b.c)(U(),Q(10));case x.FLIP:return Object(b.c)(R(),Y);default:return Object(b.c)(P(),X,200)}}),ne=b.d.div(A(),$,function(e){var n=e.dieType;e.diceSize;switch(n){case x.DOWN:return Object(b.c)(L(),J,200);case x.RANDOM:return Object(b.c)(N(),Q(10));case x.FLIP:return Object(b.c)(B(),q);default:return Object(b.c)(I(),J,200)}}),te=function(e){function n(){var e,t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).state={prevChildren:[]},t.removePrevChild=function(e){return function(){return t.setState(function(n){return{prevChildren:n.prevChildren.filter(function(n){return n.id!==e})}})}},t}return Object(d.a)(n,e),Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){var n=this;if(e.value!==this.props.value){var t=this.props.value;this.setState(function(e){return{prevChildren:[].concat(Object(j.a)(e.prevChildren),[{child:n.props.children,id:t,timeout:setTimeout(n.removePrevChild(t),200)}])}})}}},{key:"render",value:function(){var e=this,n=this.state.prevChildren,t=this.props,r=t.children,c=t.value;return a.a.createElement(Z,{className:"FACE"},a.a.createElement(ee,Object.assign({},this.props,{animate:n.length,key:c}),r),n.map(function(n){var t=n.child,r=n.id;return a.a.createElement(ne,Object.assign({},e.props,{key:r}),t)}))}}]),n}(a.a.Component);function re(){var e=Object(f.a)(["\n                background: ",";\n\n                circle {\n                    fill: ",";\n                    opacity: 0.7;\n                }\n            "]);return re=function(){return e},e}function ae(){var e=Object(f.a)(["\n                background: ",";\n                border-radius: 50%;\n\n                circle {\n                    fill: ",";\n                    opacity: 0.7;\n                }\n            "]);return ae=function(){return e},e}function ce(){var e=Object(f.a)(["\n                background: ",";\n\n                circle {\n                    fill: ",";\n                    opacity: 0.7;\n                }\n            "]);return ce=function(){return e},e}function ie(){var e=Object(f.a)(["\n                background: ",";\n\n                circle {\n                    fill: ",";\n                    animation: "," ","ms ease-in-out infinite;\n                }\n            "]);return ie=function(){return e},e}function oe(){var e=Object(f.a)(["\n                background: ",";\n\n                circle {\n                    fill: ",";\n                    opacity: 0.4;\n                }\n            "]);return oe=function(){return e},e}function ue(){var e=Object(f.a)(["\n                background: ",";\n\n                circle {\n                    fill: ",";\n                    opacity: 0.7;\n                }\n            "]);return ue=function(){return e},e}function le(){var e=Object(f.a)(["\n    0% { opacity: 0; }\n    50% { opacity: 1; }\n    100% { opacity: 0; }\n"]);return le=function(){return e},e}var se=Object(b.e)(le()),de=function(e){var n=e.dieType,t=e.value;switch(n){case x.DOWN:return Object(b.c)(ue(),function(e){return e.theme.dice.down},function(e){return e.theme.dice.pip});case x.BLOCKER:return Object(b.c)(oe(),function(e){return e.theme.dice.blocker},function(e){return e.theme.dice.pip});case x.BOMB:return Object(b.c)(ie(),function(e){return e.theme.dice.blocker},function(e){return e.theme.dice.random},se,200*t);case x.RANDOM:return Object(b.c)(ce(),function(e){return e.theme.dice.random},function(e){return e.theme.dice.pip});case x.FLIP:return Object(b.c)(ae(),function(e){return e.theme.dice.flip},function(e){return e.theme.dice.pip});case x.UP:default:return Object(b.c)(re(),function(e){return e.theme.dice.up},function(e){return e.theme.dice.pip})}};function fe(){var e=Object(f.a)(["\n    border-radius: 15%;\n\n    ","\n"]);return fe=function(){return e},e}var me=b.d.svg(fe(),de),be=function(e,n){var t=.25*e;return t+n*(e-2*t)},ve=function(e){var n=e.x,t=e.y,r=e.diceSize;Object(O.a)(e,["x","y","diceSize"]);return a.a.createElement("circle",{r:.08*r,cx:be(r,n),cy:be(r,t)})},ge=function(e){var n=e.diceSize,t=Object(O.a)(e,["diceSize"]);return a.a.createElement(me,Object.assign({},t,{width:n,height:n}))},pe=function(e){var n=e.diceSize,t=Object(O.a)(e,["diceSize"]);return a.a.createElement(me,Object.assign({},t,{width:n,height:n}),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:.5,y:.5})))},he=function(e){var n=e.diceSize,t=Object(O.a)(e,["diceSize"]);return a.a.createElement(me,Object.assign({},t,{width:n,height:n}),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:0,y:1})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:1,y:0})))},Oe=function(e){var n=e.diceSize,t=Object(O.a)(e,["diceSize"]);return a.a.createElement(me,Object.assign({},t,{width:n,height:n}),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:0,y:1})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:.5,y:.5})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:1,y:0})))},Ee=function(e){var n=e.diceSize,t=Object(O.a)(e,["diceSize"]);return a.a.createElement(me,Object.assign({},t,{width:n,height:n}),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:0,y:0})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:0,y:1})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:1,y:0})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:1,y:1})))},je=function(e){var n=e.diceSize,t=Object(O.a)(e,["diceSize"]);return a.a.createElement(me,Object.assign({},t,{width:n,height:n}),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:0,y:0})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:0,y:1})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:.5,y:.5})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:1,y:0})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:1,y:1})))},ye=function(e){var n=e.diceSize,t=Object(O.a)(e,["diceSize"]);return a.a.createElement(me,Object.assign({},t,{width:n,height:n}),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:0,y:0})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:0,y:.5})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:0,y:1})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:1,y:0})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:1,y:.5})),a.a.createElement(ve,Object.assign({},t,{diceSize:n,x:1,y:1})))},xe=function(e){switch(e.value){case 1:return a.a.createElement(pe,e);case 2:return a.a.createElement(he,e);case 3:return a.a.createElement(Oe,e);case 4:return a.a.createElement(Ee,e);case 5:return a.a.createElement(je,e);case 6:return a.a.createElement(ye,e);default:return a.a.createElement(ge,e)}};function Se(){var e=Object(f.a)(["\n    position: absolute;\n    transition: transform 0.5s ease-in;\n    perspective: 500px;\n    perspective-origin: 50% 50%;\n"]);return Se=function(){return e},e}function we(){var e=Object(f.a)(["\n    padding: 0;\n    border: 0;\n\n    background: transparent;\n\n    text-align: center;\n\n    cursor: pointer;\n    outline: none;\n"]);return we=function(){return e},e}var De=b.d.div(we()),ke=b.d.div(Se()),_e=function(e){var n=e.x,t=e.y,r=e.diceSize;return{transform:"translate(".concat(r*n,"px, ").concat(r*t+10,"px)")}},ze=function(e){var n=e.children,t=Object(O.a)(e,["children"]);return a.a.createElement(ke,{style:_e(t)},n)},Ae=function(e){function n(){var e,t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).handleDieUpdate=function(){var e=t.props,n=e.moves,r=e.inputEnabled,a=e.dieType,c=e.updateDie,i=e.id;n.limit-n.used<=0||!r||a===x.BLOCKER||a===x.BOMB||c(i)},t}return Object(d.a)(n,e),Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e){var n=e.value,t=e.x,r=e.y;return!(n===this.props.value&&t===this.props.x&&r===this.props.y)}},{key:"render",value:function(){var e=this.props.diceSize;return a.a.createElement(ze,this.props,a.a.createElement(De,Object.assign({},this.props,{onClick:this.handleDieUpdate}),a.a.createElement(te,this.props,a.a.createElement(xe,Object.assign({},this.props,{diceSize:e-2})))))}}]),n}(a.a.Component);function Me(){var e=Object(f.a)(["\n    position: relative;\n"]);return Me=function(){return e},e}function Te(){var e=Object(f.a)(["\n    padding: 0 10px;\n    overflow: hidden;\n    background: ",";\n"]);return Te=function(){return e},e}var Ce={transition:"opacity ".concat(300,"ms ease-in"),opacity:0},Ie={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0}},Be=function(e){var n=e.children,t=Object(O.a)(e,["children"]);return a.a.createElement(E.Transition,Object.assign({},t,{timeout:300}),function(e){return a.a.createElement("span",{style:Object(h.a)({},Ce,Ie[e])},n)})},Ne=b.d.div(Te(),function(e){return e.theme.background}),Le=b.d.div(Me()),Pe=function(e){var n=e.diceSize;return{width:n*_,height:n*z+20}},Re=function(e){var n=e.gameBoard,t=Object(O.a)(e,["gameBoard"]);return a.a.createElement(Ne,null,a.a.createElement(Le,{style:Pe(t)},a.a.createElement(E.TransitionGroup,null,n.map(function(e,n){return a.a.createElement(Be,{key:e.id},a.a.createElement(Ae,Object.assign({},t,e)))}))))},Ue=t(14),Ge=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JSON.parse,a=Object(r.useState)(function(){try{var r=localStorage.getItem(e);return r?t(r):n}catch(a){return n}}),c=Object(Ue.a)(a,2),i=c[0],o=c[1];return[i,function(n){var t=n instanceof Function?n(i):n;o(t),localStorage.setItem(e,JSON.stringify(t))}]};function Fe(){var e=Object(f.a)(["\n    background: ","\n"]);return Fe=function(){return e},e}function Ve(){var e=Object(f.a)(["\n    padding: 0.25rem 0.5rem;\n    text-align: left;\n\n    &.last {\n        text-align: right;\n    }\n\n    &.date {\n        color: ",";\n    }\n"]);return Ve=function(){return e},e}function We(){var e=Object(f.a)(["\n    padding: 0.25rem 0.5rem;\n\n    font-weight: bold;\n    text-align: left;\n\n    &.last {\n        text-align: right;\n    }\n"]);return We=function(){return e},e}function He(){var e=Object(f.a)(["\n    width: 100%;\n    border-spacing: 0;\n"]);return He=function(){return e},e}var Ke=b.d.table(He()),Xe=b.d.th(We()),Je=b.d.td(Ve(),function(e){return e.theme.scores.textSecondary}),Ye=b.d.tr(Fe(),function(e){var n=e.currentScore,t=e.theme;return n?t.scores.currentScoreBackground:"transparent"}),qe=function(e){var n=e.scores,t=e.currentScoreId;return a.a.createElement(Ke,null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement(Xe,null,"Score"),a.a.createElement(Xe,null,"Level"),a.a.createElement(Xe,{className:"last"},"Date"))),a.a.createElement("tbody",null,n.map(function(e){var n=e.id,r=e.endTime,c=e.score,i=e.level,o=t===n,u=(r&&new Date(r)).toLocaleDateString(void 0,{year:"numeric",month:"numeric",day:"numeric"});return a.a.createElement(Ye,{key:n,currentScore:o},a.a.createElement(Je,null,c),a.a.createElement(Je,null,i),a.a.createElement(Je,{className:"last date"},u))})))};function Qe(){var e=Object(f.a)(["\n    position: absolute;\n\n    top: 0;\n    right: 0;\n\n    width: 3rem;\n    height: 3rem;\n\n    border 0;\n\n    font-size: 1rem;\n    font-family: inherit;\n    color: ",";\n\n    background: transparent;\n"]);return Qe=function(){return e},e}function Ze(){var e=Object(f.a)(["\n    padding: 1rem;\n    border-radius: 0.8rem;\n    text-align: center;\n    font-size: 1rem;\n\n    width: 100%;\n    height: auto;\n    max-width: 600px;\n\n    color: ",";\n    background: ",";\n\n    animation: "," 0.25s ease-in-out forwards;\n\n    .closing & {\n        animation: "," 0.25s ease-in-out forwards;\n    }\n"]);return Ze=function(){return e},e}function $e(){var e=Object(f.a)(["\n    position: fixed;\n\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    padding: 1rem;\n    background: rgba(0, 0, 0, 0.7);\n\n    animation: "," 0.25s ease-in-out forwards;\n\n    &.closing {\n        animation: "," 0.25s ease-in-out forwards;\n    }\n"]);return $e=function(){return e},e}function en(){var e=Object(f.a)(["\n    0% { transform: scale(1); }\n    100% { transform: scale(0.9) }\n"]);return en=function(){return e},e}function nn(){var e=Object(f.a)(["\n    0% { opacity: 1; }\n    50% { opacity: 1; }\n    100% { opacity: 0; }\n"]);return nn=function(){return e},e}function tn(){var e=Object(f.a)(["\n    0% { transform: scale(0.9); }\n    100% { transform: scale(1); }\n"]);return tn=function(){return e},e}function rn(){var e=Object(f.a)(["\n    0% { opacity: 0; }\n    100% { opacity: 1; }\n"]);return rn=function(){return e},e}var an=Object(b.e)(rn()),cn=Object(b.e)(tn()),on=Object(b.e)(nn()),un=Object(b.e)(en()),ln=b.d.div($e(),an,on),sn=b.d.div(Ze(),function(e){return e.theme.foreground},function(e){return e.theme.modal.background},cn,un),dn=b.d.button(Qe(),function(e){return e.theme.foreground}),fn=Object(m.b)(null,function(e){return{closeModal:function(){return e({type:y.CLOSE_MODAL})}}})(function(e){var n=e.showCloseButton,t=e.children,c=e.closeModal,i=Object(r.useState)(),o=Object(Ue.a)(i,2),u=o[0],l=o[1];return a.a.createElement(ln,{className:u?"closing":void 0},a.a.createElement(sn,null,n&&a.a.createElement(dn,{onClick:function(){l(!0),setTimeout(function(){c(),l(!1)},250)}},"X"),t))});function mn(){var e=Object(f.a)(["\n    margin-top: 2rem;\n    margin-bottom: 1rem;\n    padding: 0.8rem 1.5rem;\n    border: 0;\n    border-radius: 0.5rem;\n\n    background: ",";\n    color: ",";\n\n    font-size: 1rem;\n    outline: none;\n\n    font-weight: bold;\n"]);return mn=function(){return e},e}function bn(){var e=Object(f.a)(["\n    margin-top: 0;\n    margin-left: -1rem;\n    margin-right: -1rem;\n\n    padding-bottom: 1rem;\n\n    border-bottom: 1px solid ",";\n"]);return bn=function(){return e},e}var vn=b.d.h1(bn(),function(e){return e.theme.divider}),gn=b.d.button(mn(),function(e){return e.theme.scores.buttonBackground},function(e){return e.theme.scores.buttonColor}),pn=function(e){e.name;var n=e.score,t=e.level,c=t.level,i=t.clearedDice,o=t.upcomingDice,u=e.moves.used,l=e.tracking,s=l.gameId,d=l.gameStart,f=l.gameEnd,m=e.setInputActive,b=Ge("dicematch.scores",[]),v=Object(Ue.a)(b,2),g=v[0],p=v[1],h={id:s,score:n,level:c,diceCleared:i,diceRemainingInLevel:o.length,turnsUsed:u,startTime:d,endTime:f};return Object(r.useEffect)(function(){if(!g.find(function(e){return e.id===s})){var e=g.filter(function(e){return!!e}).sort(function(e,n){return n.score-e.score}).slice(0,10),n=[].concat(Object(j.a)(e),[h]).sort(function(e,n){return n.score-e.score});p(n)}},[]),a.a.createElement(qe,{scores:g,currentScoreId:s,setInputActive:m})},hn=function(e){var n=e.restartGame,t=Object(O.a)(e,["restartGame"]);return a.a.createElement(fn,null,a.a.createElement(vn,null,"Game over"),a.a.createElement(pn,t),a.a.createElement(gn,{onClick:n},"Restart"))};function On(){var e=Object(f.a)(["\n    height: 1.5rem;\n    width: 100%;\n\n    background-image: url(",");\n    background-size: contain;\n    background-position: center;\n    background-repeat: no-repeat;\n\n    font-size: 0;\n    color: rgba(0,0,0,0);\n"]);return On=function(){return e},e}function En(){var e=Object(f.a)(["\n    width: 2rem;\n    height: 2rem;\n    background-image: url(",");\n"]);return En=function(){return e},e}function jn(){var e=Object(f.a)(["\n    width: 2rem;\n    height: 2rem;\n    background-image: url(",");\n"]);return jn=function(){return e},e}function yn(){var e=Object(f.a)(["\n    width: 3rem;\n    height: 3rem;\n\n    background-color: transparent;\n    background-size: 1.5rem;\n    background-position: center;\n    background-repeat: no-repeat;\n    border: 0;\n\n    font-size: 0;\n    color: rgba(0,0,0,0);\n\n    opacity: 0.6;\n\n    &.dark {\n        filter: invert(100%);\n    }\n"]);return yn=function(){return e},e}function xn(){var e=Object(f.a)(["\n    display: grid;\n\n    width: 100vw;\n\n    grid-template-columns: 3rem auto 3rem;\n    grid-template-rows: 3rem;\n\n    justify-items: center;\n    align-items: center;\n\n    background: ",";\n"]);return xn=function(){return e},e}var Sn=b.d.div(xn(),function(e){return e.theme.backgroundSecondary}),wn=b.d.button(yn()),Dn=Object(b.d)(wn)(jn(),t(291)),kn=Object(b.d)(wn)(En(),t(292)),_n=b.d.div(On(),t(293)),zn=function(e){var n=e.openModal,t=e.theming;return a.a.createElement(Sn,null,a.a.createElement(Dn,{className:t.interface,onClick:function(){return n(D)}},"Help"),a.a.createElement(_n,null,"DICE MATCH"),a.a.createElement(kn,{className:t.interface,onClick:function(){return n(k)}},"Settings"))};function An(){var e=Object(f.a)(["\n    margin-left: 0.3rem;\n    font-size: 0.8rem;\n    color: ",";\n"]);return An=function(){return e},e}function Mn(){var e=Object(f.a)(["\n    margin-right: 1px;\n\n    svg {\n        display: block;\n    }\n"]);return Mn=function(){return e},e}function Tn(){var e=Object(f.a)(["\n    grid-area: upcoming;\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    .dice {\n        display: flex;\n        align-items: center;\n    }\n\n    .title {\n        margin-right: 1rem;\n\n        font-size: 0.8rem;\n        font-weight: bold;\n        color: ",";\n    }\n"]);return Tn=function(){return e},e}var Cn=b.d.div(Tn(),function(e){return e.theme.header.textSecondary}),In=b.d.div(Mn()),Bn=b.d.span(An(),function(e){return e.theme.header.textSecondary}),Nn=function(e){var n=e.upcomingDice,t=n.slice(0,5),r=n.length-5;return a.a.createElement(Cn,null,a.a.createElement("div",{className:"dice"},t.slice(0,5).map(function(e,n){return a.a.createElement(In,{key:n},a.a.createElement(xe,Object.assign({},e,{diceSize:18})))}),r>0&&a.a.createElement(Bn,null,"+ ",r)))};function Ln(){var e=Object(f.a)(["\n    display: flex;\n\n    align-items: center;\n    margin-bottom: 0.3rem;\n\n    font-size: 0.8rem;\n    font-weight: bold;\n    color: ",";\n\n    .title {\n        margin-right: 0.5rem;\n\n        font-size: 0.8rem;\n        font-weight: bold;\n        color: ",";\n    }\n"]);return Ln=function(){return e},e}function Pn(){var e=Object(f.a)(["\n    grid-area: level;\n    padding: 0.3rem 0.5rem 0.5rem;\n    background: ",";\n    border-radius: 0.5rem\n"]);return Pn=function(){return e},e}var Rn=b.d.div(Pn(),function(e){return e.theme.header.backgroundInset}),Un=b.d.div(Ln(),function(e){return e.theme.header.text},function(e){return e.theme.header.textSecondary}),Gn=function(e){var n=e.level,t=e.upcomingDice;return a.a.createElement(Rn,null,a.a.createElement(Un,null,a.a.createElement("span",{className:"title"},"Level"),a.a.createElement("span",{className:"score"},n)),a.a.createElement(Nn,{upcomingDice:t}))},Fn=t(15),Vn=t.n(Fn);function Wn(){var e=Object(f.a)(["\n    height: 100%;\n\n    background: ",";\n\n    border-right: 1px solid ",";\n    transition: background 0.1s linear;\n\n    &:last-of-type {\n        border-right: 0;\n    }\n"]);return Wn=function(){return e},e}function Hn(){var e=Object(f.a)(["\n        animation: "," 0.1s linear infinite;\n    "]);return Hn=function(){return e},e}function Kn(){var e=Object(f.a)(["\n        animation: "," 0.1s linear infinite;\n    "]);return Kn=function(){return e},e}function Xn(){var e=Object(f.a)(["\n        animation: "," 0.1s linear infinite;\n    "]);return Xn=function(){return e},e}function Jn(){var e=Object(f.a)(["\n        color: red;\n    "]);return Jn=function(){return e},e}function Yn(){var e=Object(f.a)(["\n    grid-area: moves;\n\n    display: grid;\n\n    width: auto;\n    height: 1.5rem;\n\n    grid-template-columns: repeat(10, 1fr);\n    grid-template-rows: auto;\n\n    border: 1px solid ",";\n    border-radius: 0.2rem;\n\n    box-shadow: 0 0 0 1px ",";\n\n    overflow: hidden;\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n"]);return Yn=function(){return e},e}function qn(){var e=Object(f.a)(["\n    0% {\n        transform: translate(0px, 0px);\n    }\n    25% {\n        transform: translate(","px, ","px);\n    }\n    50% {\n        transform: translate(0px, 0px);\n    }\n    75% {\n        transform: translate(","px, ","px);\n    }\n"]);return qn=function(){return e},e}var Qn=function(e){return Object(b.e)(qn(),e,e,-e,-e)},Zn=b.d.div(Yn(),function(e){return e.theme.moves.border},function(e){return e.theme.header.backgroundInset},function(e){return e.moves<6&&Object(b.c)(Jn())},function(e){return e.moves<=3&&Object(b.c)(Xn(),Qn(.25))},function(e){return e.moves<=2&&Object(b.c)(Kn(),Qn(.5))},function(e){return e.moves<=1&&Object(b.c)(Hn(),Qn(1))}),$n=b.d.div(Wn(),function(e){var n=e.ready,t=e.moves,r=e.theme;return n?t<=1?r.moves.danger:t<=3?r.moves.warning:r.moves.ready:r.moves.used},function(e){return e.theme.moves.insideBorder}),et=function(e){var n=e.moves,t=n.used,r=n.limit,c=n.cap,i=r-t;return a.a.createElement(Zn,{moves:i},Vn()(function(e){return a.a.createElement($n,{key:e,moves:i,ready:e<i})},c))};function nt(){var e=Object(f.a)(["\n    grid-area: score;\n\n    display: flex;\n\n    align-items: center;\n    justify-content: space-between;\n\n    padding: 0.2rem 0.5rem;\n    background: ",";\n    border-radius: 0.5rem;\n\n    font-size: 1.2rem;\n    color: ",";\n\n    .title {\n        font-size: 0.8rem;\n        font-weight: bold;\n        color: ",";\n    }\n"]);return nt=function(){return e},e}var tt=b.d.div(nt(),function(e){return e.theme.header.backgroundInset},function(e){return e.theme.header.text},function(e){return e.theme.header.textSecondary}),rt=function(e){var n=e.score;return a.a.createElement(tt,null,a.a.createElement("span",{className:"title"},"Score"),a.a.createElement("span",{className:"score"},n))};function at(){var e=Object(f.a)(['\n    display: grid;\n\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: auto auto;\n\n    column-gap: 0.5rem;\n    row-gap: 0.5rem;\n\n    padding: 0.5rem 0.5rem;\n\n    grid-template-areas:\n        "level score"\n        "moves moves";\n\n    background: ',";\n"]);return at=function(){return e},e}var ct=b.d.div(at(),function(e){return e.theme.backgroundSecondary}),it=function(e){return a.a.createElement(ct,null,a.a.createElement(rt,e),a.a.createElement(Gn,e.level),a.a.createElement(et,e))},ot=t(151),ut=t.n(ot);function lt(){var e=Object(f.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    font-size: 48px;\n    pointer-events: none;\n    touch-action: none;\n    color: white;\n\n    text-shadow: 0 0 5px rgba(0,0,0,1);\n"]);return lt=function(){return e},e}var st=b.d.div(lt()),dt={position:"absolute",top:"50%",left:"50%",textAlign:"center",width:150,height:50,marginLeft:-75,marginTop:-25,transition:"opacity ".concat(200,"ms ease-out, transform ").concat(200,"ms ease-out"),opacity:0,transform:"scale(0.5)"},ft={entering:{opacity:0,transform:"scale(0.5)"},entered:{opacity:1,transform:"scale(1)"},exiting:{opacity:0,transform:"scale(2.5)"}},mt=function(e){var n=e.children,t=Object(O.a)(e,["children"]);return a.a.createElement(E.Transition,Object.assign({},t,{timeout:200}),function(e){return a.a.createElement("div",{style:Object(h.a)({},dt,ft[e])},n)})},bt=function(e){function n(){var e,t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).state={announcements:[]},t.aId=0,t}return Object(d.a)(n,e),Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){var n=this,t=e.score;e.gameState;if(this.props.score!==t&&this.props.score<t&&this.props.gameState!==w){var r=t-this.props.score;this.setState(function(e){return{announcements:[].concat(Object(j.a)(e.announcements),[{id:n.aId,value:r}])}}),this.aId=this.aId+1,setTimeout(function(){n.setState(function(e){return{announcements:ut()(1,e.announcements)}})},1e3)}}},{key:"render",value:function(){var e=this.state.announcements;return a.a.createElement(st,null,a.a.createElement(E.TransitionGroup,null,e.map(function(e,n){return a.a.createElement(mt,{key:e.id},"+ ",e.value)})))}}]),n}(a.a.Component),vt=t(152),gt=function(e,n){return function(t){return t<e?n:t>n?e:t}},pt=function(e){return Math.floor(Math.random()*e)+1},ht=function(e){return function(n,t){return n.id===t.id?e(n,t):n}},Ot=ht(function(e,n){var t=e.value,r=Object(O.a)(e,["value"]);return Object(h.a)({},r,{value:gt(1,r.dieSize)(t+1)})}),Et=ht(function(e,n){var t=e.value,r=Object(O.a)(e,["value"]);return Object(h.a)({},r,{value:gt(1,r.dieSize)(t-1)})}),jt=ht(function(e,n){for(var t=e.value,r=Object(O.a)(e,["value"]),a=pt(r.dieSize);a===t;)a=pt(r.dieSize);return Object(h.a)({},r,{value:a})}),yt=function(e){switch(e){case 1:return 6;case 2:return 5;case 3:return 4;case 4:return 3;case 5:return 2;case 6:default:return 1}},xt=ht(function(e,n){var t=e.value,r=Object(O.a)(e,["value"]);return Object(h.a)({},r,{value:yt(t)})}),St=function(e,n){switch(e.dieType){case x.UP:return Ot(e,n);case x.DOWN:return Et(e,n);case x.RANDOM:return jt(e,n);case x.FLIP:return xt(e,n);case x.BOMB:return function(e,n){var t=e.value,r=Object(O.a)(e,["value"]);return Object(h.a)({},r,{value:t-1})}(e);default:return e}},wt=ht(function(e,n){var t=n.x,r=n.y;return Object(h.a)({},e,{x:t,y:r})});function Dt(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n\n    align-items: flex-start;\n    justify-content: flex-start;\n\n    width: calc(64px + 2rem);\n    height: calc(64px + 2rem);\n\n    border 0;\n    padding: 1rem;\n\n    background: transparent;\n"]);return Dt=function(){return e},e}function kt(){var e=Object(f.a)(["\n    position: relative;\n\n    display: flex;\n    flex-direction: column;\n\n    align-items: center;\n    justify-content: center;\n\n    width: 100%;\n    height: 100%;\n\n    p {\n        position: absolute;\n        bottom: -1rem;\n        color: ","\n    }\n"]);return kt=function(){return e},e}function _t(){var e=Object(f.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: flex;\n    height: 100%;\n\n    transition: left 0.3s ease-in-out;\n"]);return _t=function(){return e},e}function zt(){var e=Object(f.a)(["\n    position: absolute;\n    display: flex;\n\n    align-items: center;\n    justify-content: center;\n\n    top: 0;\n\n    width: 3rem;\n    height: 100%;\n\n    border 0;\n\n    font-size: 1rem;\n    font-family: inherit;\n    color: ",";\n\n    background: transparent;\n\n    z-index: 1;\n\n    &.left {\n        left: -1rem;\n\n        &.animate {\n            animation: "," 0.7s linear infinite;\n        }\n    }\n\n    &.right {\n        right: -1rem;\n\n        &.animate {\n            animation: "," 0.7s linear infinite;\n        }\n    }\n\n    &:disabled {\n        opacity: 0.2;\n    }\n"]);return zt=function(){return e},e}function At(){var e=Object(f.a)(["\n    0% { transform: translate(0, 0); }\n    5% { transform: translate(3px, 0); }\n    20% { transform: translate(0, 0); }\n    100% { transform: translate(0, 0); }\n"]);return At=function(){return e},e}function Mt(){var e=Object(f.a)(["\n    0% { transform: translate(0, 0); }\n    5% { transform: translate(-3px, 0); }\n    20% { transform: translate(0, 0); }\n    100% { transform: translate(0, 0); }\n"]);return Mt=function(){return e},e}function Tt(){var e=Object(f.a)(["\n    position: relative;\n    height: 12rem;\n    overflow: hidden;\n"]);return Tt=function(){return e},e}var Ct=b.d.div(Tt()),It=Object(b.e)(Mt()),Bt=Object(b.e)(At()),Nt=b.d.button(zt(),function(e){return e.theme.foreground},It,Bt),Lt=b.d.div(_t()),Pt=b.d.div(kt(),function(e){return e.theme.foregroundSecondary}),Rt=b.d.button(Dt()),Ut=[{id:1,dieType:x.UP,value:1,dieSize:6,description:"Increases in value.",updater:Ot},{id:2,dieType:x.DOWN,value:2,dieSize:6,description:"Goes down smooth.",updater:Et},{id:3,dieType:x.FLIP,value:3,dieSize:6,description:"Flip-flops. Always adds to 7.",updater:xt},{id:4,dieType:x.RANDOM,value:4,dieSize:6,description:"Rolls kinda wild.",updater:jt},{id:5,dieType:x.BLOCKER,value:5,dieSize:6,description:"Can\u2019t be moved. Still matches."},{id:6,dieType:x.BOMB,value:6,dieSize:6,description:"Explosive if it reaches zero."}],Gt=function(){var e=Object(r.useState)(0),n=Object(Ue.a)(e,2),t=n[0],c=n[1],i=Object(r.useState)(Ut),o=Object(Ue.a)(i,2),u=o[0],l=o[1],s=t<=0,d=t>=Ut.length-1,f=function(e){return c(Object(vt.clamp)(t+e,0,Ut.length-1))};return console.log("dieDescriptions",u),a.a.createElement(Ct,null,a.a.createElement(Nt,{className:"left ".concat(d?"animate":""),onClick:function(){return f(-1)},disabled:s},"<"),a.a.createElement(Nt,{className:"right ".concat(s?"animate":""),onClick:function(){return f(1)},disabled:d},">"),a.a.createElement(Lt,{style:{width:"".concat(100*Ut.length,"%"),left:"".concat(-100*t,"%")}},u.map(function(e){var n=e.id,t=e.dieType,r=e.value,c=e.description,i=e.updater;return a.a.createElement(Pt,{key:n},a.a.createElement(Rt,{onClick:function(){i&&function(e){l(u.map(function(n){return n.updater?e!==n.id?n:n.updater(n,{id:e}):n}))}(n)}},a.a.createElement(te,{dieType:t,value:r,diceSize:64},a.a.createElement(xe,{dieType:t,value:r,diceSize:64}))),a.a.createElement("p",null,c))})))};function Ft(){var e=Object(f.a)(["\n    border: 1px solid ",";\n    border-radius: 0.5rem\n"]);return Ft=function(){return e},e}function Vt(){var e=Object(f.a)(["\n    margin-right: 2px;\n\n    svg {\n        display: block;\n    }\n"]);return Vt=function(){return e},e}function Wt(){var e=Object(f.a)(["\n    font-size: 1rem;\n"]);return Wt=function(){return e},e}function Ht(){var e=Object(f.a)(["\n    margin-left: -1rem;\n    margin-right: -1rem;\n\n    padding-bottom: 1rem;\n\n    border-bottom: 1px solid ",";\n\n    font-size: 1rem;\n    font-weight: bold;\n"]);return Ht=function(){return e},e}function Kt(){var e=Object(f.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return Kt=function(){return e},e}var Xt=b.d.p(Kt()),Jt=b.d.div(Ht(),function(e){return e.theme.divider}),Yt=b.d.p(Wt()),qt=b.d.div(Vt()),Qt=b.d.div(Ft(),function(e){return e.theme.divider}),Zt=function(e){e.restartGame;var n=Object(O.a)(e,["restartGame"]);return a.a.createElement(fn,{showCloseButton:!0},a.a.createElement(Jt,null,"How to play"),a.a.createElement(Yt,null,"Tap a die to change its value."),a.a.createElement(Xt,null,a.a.createElement(qt,null,a.a.createElement(xe,{dieType:x.UP,value:3,diceSize:48})),a.a.createElement(qt,null,a.a.createElement(xe,{dieType:x.UP,value:3,diceSize:48})),a.a.createElement(qt,null,a.a.createElement(xe,{dieType:x.UP,value:3,diceSize:48}))),a.a.createElement(Yt,null,"Match three or more with the same value."),a.a.createElement(Xt,null,a.a.createElement(Qt,null,a.a.createElement(Gn,n.level))),a.a.createElement(Yt,null,"Clear all the dice from the level..."),a.a.createElement(et,{moves:{used:3,limit:10,cap:10}}),a.a.createElement(Yt,null,"...before you run out of turns.",a.a.createElement("br",null),"Turns refill at the end of each level."),a.a.createElement(Jt,null,"Meet the dice"),a.a.createElement(Gt,null))};function $t(){var e=Object(f.a)(["\n    padding: 0.4rem 1rem;\n    border: 0;\n    border-radius: 0.5rem;\n\n    background: ",";\n    color: ",";\n\n    font-size: 1rem;\n    outline: none;\n\n    font-weight: bold;\n"]);return $t=function(){return e},e}function er(){var e=Object(f.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    margin-left: -1rem;\n    margin-right: -1rem;\n\n    padding: 1rem;\n\n    text-align: left;\n    border-bottom: 1px solid ",";\n\n    a {\n        color: ",";\n    }\n"]);return er=function(){return e},e}function nr(){var e=Object(f.a)(["\n    margin-left: -1rem;\n    margin-right: -1rem;\n\n    padding-bottom: 1rem;\n\n    border-bottom: 1px solid ",";\n\n    font-size: 1rem;\n    font-weight: bold;\n"]);return nr=function(){return e},e}var tr=b.d.div(nr(),function(e){return e.theme.divider}),rr=b.d.div(er(),function(e){return e.theme.divider},function(e){return e.theme.highlight}),ar=b.d.button($t(),function(e){return e.theme.scores.buttonBackground},function(e){return e.theme.scores.buttonColor}),cr=Object(m.b)(null,function(e){return{toggleInterfaceTheme:function(n){return e({type:y.SET_THEME,interface:"dark"===n?"light":"dark"})},closeModal:function(){return e({type:y.CLOSE_MODAL})}}})(function(e){var n=e.restartGame,t=e.closeModal,r=e.toggleInterfaceTheme,c=Object(O.a)(e,["restartGame","closeModal","toggleInterfaceTheme"]);return a.a.createElement(fn,{showCloseButton:!0},a.a.createElement(tr,null,"Settings"),a.a.createElement(rr,null,"Dark theme",a.a.createElement("input",{type:"checkbox",onChange:function(){return r(c.theming.interface)},checked:"dark"===c.theming.interface})),a.a.createElement(rr,null,"Abandon current game",a.a.createElement(ar,{onClick:function(){n(),t()}},"Restart")),a.a.createElement(rr,null,"Feedback",a.a.createElement("a",{href:"https://twitter.com/isaacwilliams"},"@isaacwilliams")))}),ir={white:"#ffffff",black:"#000000",charcoal:"#282B40",charcoal_200:"#191D23",charcoal_100:"#111717",grey_100:"#111111",grey_200:"#222222",grey_300:"#444444",grey_400:"#666666",grey_500:"#757784",grey_700:"#9A9DAD",grey_900:"#C5C9D8",grey_1000:"#E6E8EF",grey_1100:"#f8f8f8",red:"#FC4349",teal:"#3C989B",green:"#14DD89",yellow:"#FFAC00",yellow_700:"#FFD000",yellow_900:"#FFEF00",beige:"#CEC8B6"},or={colors:ir,foreground:ir.charcoal,foregroundSecondary:ir.grey_500,background:ir.white,backgroundSecondary:ir.grey_1000,divider:ir.grey_900,highlight:ir.teal,modal:{background:ir.white},header:{background:ir.grey_1000,backgroundInset:ir.white,text:ir.charcoal,textSecondary:ir.grey_500},moves:{border:ir.grey_700,insideBorder:"rgba(0,0,0,0.2)",used:ir.grey_500,ready:ir.green,warning:ir.yellow,danger:ir.red},scores:{buttonBackground:ir.backgroundSecondary,buttonColor:ir.charcoal,currentScoreBackground:ir.yellow_900,textSecondary:"rgba(0,0,0,0.5)"},dice:{pip:ir.charcoal,up:ir.red,down:ir.teal,random:ir.yellow,blocker:ir.grey_500,flip:ir.beige}},ur=Object(h.a)({},or,{foreground:ir.white,foregroundSecondary:ir.grey_700,background:ir.grey_100,backgroundSecondary:ir.grey_200,divider:ir.grey_400,highlight:ir.teal,modal:{background:ir.grey_300},header:Object(h.a)({},or.header,{background:ir.grey_1000,backgroundInset:ir.grey_100,text:ir.white,textSecondary:ir.grey_700}),moves:Object(h.a)({},or.moves,{border:ir.grey_400,insideBorder:"rgba(0,0,0,0.2)",used:ir.grey_200,ready:ir.teal,warning:ir.yellow,danger:ir.red}),scores:Object(h.a)({},or.scores,{buttonBackground:ir.grey_200,buttonColor:ir.white,currentScoreBackground:ir.teal,textSecondary:"rgba(255,255,255,0.5)"})});function lr(){var e=Object(f.a)(["\n    body {\n        background: ",";\n    }\n"]);return lr=function(){return e},e}function sr(){var e=Object(f.a)(["\n    display: flex;\n    align-self: end;\n    justify-content: center;\n    padding: 1rem 0;\n    background: ",";\n"]);return sr=function(){return e},e}function dr(){var e=Object(f.a)(["\n    display: grid;\n\n    grid-template-columns: auto;\n    grid-template-rows: auto auto 1fr;\n\n    justify-content: center;\n\n    height: 90vh;\n    width: 100vw;\n\n    background: ",";\n"]);return dr=function(){return e},e}var fr=g()(30,80),mr=b.d.div(dr(),function(e){return e.theme.background}),br=b.d.div(sr(),function(e){return e.theme.background}),vr=Object(b.b)(lr(),function(e){return e.theme.background}),gr=function(e){function n(){var e,t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).state={diceSize:0},t.getDiceSize=function(){return t.setState(function(){return{diceSize:fr((window.innerWidth-20)/_)}})},t}return Object(d.a)(n,e),Object(u.a)(n,[{key:"componentWillMount",value:function(){this.getDiceSize(),window.addEventListener("resize",this.getDiceSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.getDiceSize)}},{key:"render",value:function(){var e=this.props,n=e.gameState,t=e.modal,r=e.theming,c=void 0===r?{}:r,i=this.state.diceSize,o="dark"===c.interface?ur:or;return a.a.createElement(b.a,{theme:o},a.a.createElement(vr,null),a.a.createElement(p.a,null,a.a.createElement("meta",{name:"theme-color",content:o.backgroundSecondary})),a.a.createElement(mr,null,a.a.createElement(zn,this.props),a.a.createElement(it,this.props),a.a.createElement(br,null,a.a.createElement(Re,Object.assign({},this.props,{diceSize:i})),a.a.createElement(bt,this.props)),n===w&&a.a.createElement(hn,this.props),t===D&&a.a.createElement(Zt,this.props),t===k&&a.a.createElement(cr,this.props)))}}]),n}(r.Component),pr=Object(m.b)(function(e){return e},function(e){return{updateDie:function(n){return e({type:y.UPDATE_DIE,id:n})},restartGame:function(){return e({type:y.GAME_RESET})},openModal:function(n){return e({type:y.OPEN_MODAL,modal:n})},closeModal:function(){return e({type:y.CLOSE_MODAL})}}})(gr),hr=t(31),Or=t(153),Er=t(160),jr=t(89),yr=t(45),xr=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;switch(e){case x.BOMB:return n;default:return pt(n)}},Sr=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return{id:Object(yr.a)(8),dieType:e,dieSize:n,value:xr(e,n)}},wr=function(e){return function(n,t){return e.find(function(e){return e&&e.x===n&&e.y===t})}},Dr=t(154),kr=t.n(Dr),_r=t(155),zr=t.n(_r),Ar=t(156),Mr=t.n(Ar),Tr=function(e,n){return e&&n&&e.value===n.value},Cr=function(e){return e.id},Ir=kr()(Cr),Br=zr()(Cr),Nr=function(e){var n=function(e){for(var n=wr(e),t=[],r=0;r<z;r++)for(var a=[],c=0;c<_;c++){var i=n(c,r),o=n(c+1,r);a.push(i);var u=Tr(i,o);!u&&a.length>=3&&t.push(a),u||(a=[])}return t}(e),t=function(e){for(var n=wr(e),t=[],r=0;r<_;r++)for(var a=[],c=0;c<z;c++){var i=n(r,c),o=n(r,c+1);a.push(i);var u=Tr(i,o);!u&&a.length>=3&&t.push(Mr()(a)),u||(a=[])}return t}(e);return n=n.map(function(e){var n=t.find(function(n){return Ir([n,e])});return n?(t=t.filter(function(e){return e!==n}),Br([].concat(Object(j.a)(e),Object(j.a)(n)))):e}),[].concat(Object(j.a)(n),Object(j.a)(t))},Lr=function(){for(var e;!e||Nr(e).length;)e=Vn()(function(){return Sr(x.UP)},_*z).map(function(e,n){var t=n%_,r=Math.floor(n/_);return Object(h.a)({},e,{x:t,y:r})});return e},Pr=function(e,n){return e.map(function(e){return function(e,n){switch(n.type){case y.UPDATE_DIE:return St(e,n);case y.MOVE_DIE:return wt(e,n);default:return e}}(e,n)})},Rr=function(e){var n=wr(e);return e.find(function(e){var t=e.x,r=e.y;e.id;return r<z-1&&!n(t,r+1)})},Ur={used:0,limit:10,cap:10},Gr=t(157),Fr=t.n(Gr),Vr=g()(0,1/0),Wr=function(e){return Math.round(e)},Hr=function(e){return Math.log10(e)},Kr=function(e){return Vr(Wr(5*Hr(e)))},Xr=function(e){return Vr(Wr(4*Hr(e))-2)},Jr=function(e){return n=Vr(Wr(4*Hr(e))-2.5),Math.floor(n);var n},Yr=function(e){return Vr(Wr(2.5*Hr(e))-2)},qr=function(e){return e>=15&&e%5===0?1:0},Qr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0;n<e.length;n++){var t=e[n].value;if(e[n+1]&&e[n+1].value===t&&e[n+2]&&e[n+2].value===t)return!0}return!1},Zr=function(e){var n,t=0;do{n=Fr()([].concat(Object(j.a)(Vn()(function(){return Sr(x.UP)},10)),Object(j.a)(Vn()(function(){return Sr(x.DOWN)},Kr(e))),Object(j.a)(Vn()(function(){return Sr(x.RANDOM)},Jr(e))),Object(j.a)(Vn()(function(){return Sr(x.BLOCKER)},Yr(e))),Object(j.a)(Vn()(function(){return Sr(x.FLIP)},Xr(e))),Object(j.a)(Vn()(function(){return Sr(x.BOMB)},qr(e))))),t++}while(t<5&&Qr(n));return n},$r=function(){return{level:1,clearedDice:0,upcomingDice:Zr(1)}},ea=S,na={gameId:Object(yr.a)(),gameStart:new Date,gameEnd:null},ta=window.matchMedia("(prefers-color-scheme: dark)").matches,ra={interface:ta?"dark":ta},aa=Object(hr.c)({gameBoard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case y.UPDATE_DIE:return Pr(e,n);case y.REMOVE_DIE:return function(e,n){return e.filter(function(e){return e.id!==n.id})}(e,n);case y.ADD_DIE:return function(e,n){var t=n.die;return[].concat(Object(j.a)(e),[t])}(e,n);case y.CASCADE_DICE:return function(e,n){for(var t=e,r=Rr(t);r;)t=Pr(t,{type:y.MOVE_DIE,id:r.id,x:r.x,y:r.y+1}),r=Rr(t);return t}(e);case y.GAME_RESET:return Lr();default:return e}},score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case y.ADD_SCORE:return e+n.score*n.multiplier;case y.GAME_RESET:return 0;default:return e}},inputEnabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case y.INPUT_DISABLE:return!1;case y.INPUT_ENABLE:case y.GAME_RESET:return!0;default:return e}},moves:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case y.UPDATE_DIE:return Object(h.a)({},e,{used:e.used+1});case y.ADD_MOVES:return Object(h.a)({},e,{limit:Math.min(e.limit+n.moves,e.used+e.cap)});case y.GAME_RESET:return Ur;default:return e}},level:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$r(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case y.ADD_DIE:return function(e,n){var t=e.level,r=e.upcomingDice.slice(1);return 0===r.length&&(r=Zr(t+=1)),Object(h.a)({},e,{level:t,upcomingDice:r})}(e);case y.REMOVE_DIE:return Object(h.a)({},e,{clearedDice:e.clearedDice+1});case y.SET_LEVEL:return Object(h.a)({},e,{level:n.level,upcomingDice:Zr(n.level)});case y.GAME_RESET:return $r();default:return e}},gameState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea;switch((arguments.length>1?arguments[1]:void 0).type){case y.GAME_END:return w;case y.GAME_RESET:return ea;default:return e}},tracking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na;switch((arguments.length>1?arguments[1]:void 0).type){case y.GAME_END:return Object(h.a)({},e,{gameEnd:new Date});case y.GAME_RESET:return{gameId:Object(yr.a)(),gameStart:new Date,gameEnd:null};default:return e}},theming:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case y.SET_THEME:return Object(h.a)({},e,{interface:n.interface});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case y.OPEN_MODAL:return n.modal;case y.CLOSE_MODAL:return null;default:return e}}}),ca=t(16),ia=t.n(ca),oa=t(8),ua=t(158),la=t.n(ua),sa=t(159),da=t.n(sa),fa=ia.a.mark(ja),ma=ia.a.mark(ya),ba=ia.a.mark(xa),va=ia.a.mark(Da),ga=ia.a.mark(ka),pa=function(e){return new Promise(function(n){return setTimeout(n,e)})},ha=function(e){return e.id},Oa=function(e){switch(e){case 3:return 0;case 4:return 100;case 5:return 300;case 6:return 500;default:return Math.max(300*(e-6),0)+500}},Ea=function(e,n){return n*(e<=3?10:20)};function ja(e){var n,t,r,a;return ia.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(oa.c)();case 2:return n=c.sent,t=n.level.upcomingDice[0],r=e.x,a=-z,c.next=8,Object(oa.b)({type:y.ADD_DIE,die:Object(h.a)({},t,{x:r,y:a})});case 8:return c.next=10,pa(100);case 10:return c.next=12,Object(oa.b)({type:y.CASCADE_DICE});case 12:case"end":return c.stop()}},fa)}function ya(e,n){var t,r,a,c,i,o,u,l,s,d;return ia.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Object(oa.c)();case 2:return t=f.sent,r=t.gameBoard.map(ha),a=e.filter(function(e){return da()(ha(e),r)}),f.next=7,Object(oa.a)(a.map(function(e){return Object(oa.b)({type:y.REMOVE_DIE,id:e.id})}));case 7:return f.next=9,pa(250);case 9:return f.next=11,Object(oa.b)({type:y.CASCADE_DICE});case 11:return c=Oa(a.length)+Ea(a.length,la()(a).value),f.next=14,Object(oa.b)({type:y.ADD_SCORE,score:c,multiplier:n});case 14:return f.next=16,pa(250);case 16:i=!0,o=!1,u=void 0,f.prev=19,l=a[Symbol.iterator]();case 21:if(i=(s=l.next()).done){f.next=28;break}return d=s.value,f.next=25,ja(d);case 25:i=!0,f.next=21;break;case 28:f.next=34;break;case 30:f.prev=30,f.t0=f.catch(19),o=!0,u=f.t0;case 34:f.prev=34,f.prev=35,i||null==l.return||l.return();case 37:if(f.prev=37,!o){f.next=40;break}throw u;case 40:return f.finish(37);case 41:return f.finish(34);case 42:return f.next=44,pa(100);case 44:case"end":return f.stop()}},ma,null,[[19,30,34,42],[35,,37,41]])}function xa(e){var n,t,r,a,c,i,o,u,l,s,d=arguments;return ia.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:1,f.next=3,pa(100);case 3:if(e.length){f.next=5;break}return f.abrupt("return");case 5:return f.next=7,Object(oa.c)();case 7:t=f.sent,r=!0,a=!1,c=void 0,f.prev=11,i=e[Symbol.iterator]();case 13:if(r=(o=i.next()).done){f.next=22;break}return u=o.value,f.next=17,ya(u,n);case 17:return f.next=19,pa(250);case 19:r=!0,f.next=13;break;case 22:f.next=28;break;case 24:f.prev=24,f.t0=f.catch(11),a=!0,c=f.t0;case 28:f.prev=28,f.prev=29,r||null==i.return||i.return();case 31:if(f.prev=31,!a){f.next=34;break}throw c;case 34:return f.finish(31);case 35:return f.finish(28);case 36:return f.next=38,Object(oa.c)();case 38:if(l=f.sent,s=Nr(l.gameBoard),t.level.level===l.level.level){f.next=43;break}return f.next=43,Object(oa.b)({type:y.ADD_MOVES,moves:10});case 43:return f.next=45,pa(300);case 45:if(!s.length){f.next=49;break}return f.next=48,xa(s,n+1);case 48:return f.abrupt("return",f.sent);case 49:case"end":return f.stop()}},ba,null,[[11,24,28,36],[29,,31,35]])}var Sa=[[0,0],[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]],wa=function(e){var n=wr(e);return e.filter(function(e){return e.dieType===x.BOMB&&e.value<=0}).map(function(e){return Sa.map(function(t){var r=Object(Ue.a)(t,2),a=r[0],c=r[1];return n(e.x+a,e.y+c)}).filter(function(e){return!!e})})};function Da(){var e,n,t,r,a;return ia.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(oa.b)({type:y.INPUT_DISABLE});case 2:return c.next=4,Object(oa.c)();case 4:if(e=c.sent,!(n=Nr(e.gameBoard)).length){c.next=11;break}return c.next=9,pa(250);case 9:return c.next=11,xa(n,1);case 11:return c.next=13,Object(oa.c)();case 13:if(t=c.sent,!(r=wa(t.gameBoard)).length){c.next=20;break}return c.next=18,pa(250);case 18:return c.next=20,xa(r,1);case 20:return c.next=22,Object(oa.b)({type:y.INPUT_ENABLE});case 22:return c.next=24,Object(oa.c)();case 24:if(!((a=c.sent).moves.limit-a.moves.used<=0)){c.next=31;break}return c.next=28,pa(800);case 28:return c.next=30,Object(oa.b)({type:y.GAME_END});case 30:return c.abrupt("return",c.sent);case 31:case"end":return c.stop()}},va)}function ka(){return ia.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oa.d)(y.UPDATE_DIE,Da);case 2:case"end":return e.stop()}},ga)}var _a=ka,za=function(){var e=Object(Er.a)(),n=Object(hr.a)(Object(Or.createLogger)({collapsed:!0,duration:!0,predicate:function(){return!1}}),Object(jr.save)({namespace:"dicematch.state",ignoreStates:["inputEnabled"]}),e)(hr.d)(aa,Object(jr.load)({namespace:"dicematch.state"}));return e.run(_a),window._store=n,n}();i.a.render(a.a.createElement(m.a,{store:za},a.a.createElement(pr,{store:za})),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.b4f65bc3.chunk.js.map