(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"/AUC":function(t,e,r){"use strict";r.r(e);r("f3/d"),r("XfO3"),r("HEwt"),r("rE2o"),r("ioFf"),r("I5cv"),r("rGqo"),r("yt8O"),r("RW0V"),r("91GP"),r("a1Th"),r("Btvt"),r("KKXr");var n=r("q1tI"),a=r.n(n),o=r("YS3K"),l=r("6dgD"),i=r.n(l),u=r("LvDl"),c=function(t){return t.textContent},s=function(t){return[].slice.call(t)},d=function(t){return s(t.childNodes).map(c)},p=function(t){var e=d(t.querySelector("thead tr")),r=s(t.querySelectorAll("tbody tr")).map(d).map((function(t){return Object(u.zipObject)(e,t)})),n=e.reduce((function(t,e,n){var a;return Object.assign({},t,((a={})[e]=r.map((function(t){return t[e]})),a))}),{});return{headers:e,tableData:n}},f=r("vOnD"),m=r("CJNR"),b=f.c.div.withConfig({displayName:"components__StyledTableRoller",componentId:"bl3r67-0"})(["margin:2rem 0;border:1px solid lightgrey;"]),h=f.c.div.withConfig({displayName:"components__StyledButtonsContainer",componentId:"bl3r67-1"})(["position:relative;padding:0.5rem;&:after{position:absolute;top:-0.35rem;right:0.8rem;content:'âš„';font-size:2rem;color:grey;}"]),y=Object(f.c)(m.a).withConfig({displayName:"components__RollerButton",componentId:"bl3r67-2"})(["margin-right:0.5rem;&.secondary{background:grey;&:hover{background:red;}}"]),g=f.c.span.withConfig({displayName:"components__RollerLabel",componentId:"bl3r67-3"})(["margin-right:0.5rem;color:#666;"]),v=f.c.div.withConfig({displayName:"components__StyledResult",componentId:"bl3r67-4"})(["padding:0.5rem;border-top:1px solid lightgrey;background:#eee;"]),w=f.c.div.withConfig({displayName:"components__StyledResultValue",componentId:"bl3r67-5"})(["margin-bottom:0.25rem;"]),D=f.c.span.withConfig({displayName:"components__StyledResultTitle",componentId:"bl3r67-6"})(["font-weight:600;margin-right:0.25rem;"]),E=f.c.div.withConfig({displayName:"components__StyledResultDivider",componentId:"bl3r67-7"})(["margin-top:0.7rem;margin-bottom:0.5rem;border-top:1px solid lightgrey;"]);var O=f.c.div.withConfig({displayName:"AppErrorBoundry__ErrorContainer",componentId:"sc-887yb1-0"})(["border:1px solid red;padding:0.5rem;"]),S=function(t){var e,r;r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var n;n=o;function o(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).state={hasError:!1,errorDetails:null},e}return o.getDerivedStateFromError=function(t){return{hasError:!0,errorDetails:t}},o.prototype.render=function(){var t=this.state,e=t.hasError,r=t.errorDetails;return e?a.a.createElement(O,null,r.toString()):this.props.children},o}(n.Component);function _(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var j=function(t){var e=t.buttons,r=t.rollResult;return a.a.createElement(h,null,e.map((function(t,e){var n=t[0],o=t[1],l=o["~~buttonStyle"];return"label"===o["~~buttonType"]?a.a.createElement(g,{className:l},n):a.a.createElement(y,{key:e,onClick:function(){return r(o)},className:l},n)})))},C=function(t){var e=t.result;return a.a.createElement(v,null,Object(o.toPairs)(e).map((function(t,e){var r=t[0],n=t[1];return"DIVIDER"===n?a.a.createElement(E,null):a.a.createElement(w,{key:e},a.a.createElement(D,null,r,": "),a.a.createElement("span",null,n))})))},N=function(t){return function(e){return e.indexOf(t)>-1}},I=(N("|"),N(":")),k=N("{"),A=Object(o.omitBy)((function(t,e){return Object(o.startsWith)("~~",e)})),x=function(t){var e=t.defaultResult,r=t.tableData,n=t.headers;return function(t){if(N(t)(n))return r[t][e];if(I(t)){var a=t.split(":"),l=a[0],u=a[1],c=a[2],s=c||u,d=function(t,e){var r=i.a.roll(t);switch(e){case"lowest":return Object(o.min)(r.rolls);case"highest":return Object(o.max)(r.rolls);default:return r.total}}(l,c?u:void 0)-1;return r[s][d]}var p=i.a.roll(t).total;return p?p.toString():t}},q=function(t){var e=t.defaultResult,r=t.tableData,n=t.fields,a=t.headers;return function(t){var o=x({defaultResult:e,tableData:r,headers:a})(t);return o&&k(o)?function(t){var e=t.defaultResult,r=t.tableData,n=(t.fields,t.headers);return function(t){return t.split(/{([^}]+)}/g).filter((function(t){return!!t})).map((function(t){if(!N(t)(n)){var a=x({defaultResult:e,tableData:r,headers:n})(t);if(a)return a}var o=r[t];return o&&x({defaultResult:e,tableData:r,headers:n})("d"+o.length+":"+t)||t})).join("")}}({defaultResult:e,tableData:r,fields:n,headers:a})(o):o}},B=function(t){var e,r;r=t,(e=l).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var n;n=l;function l(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).state={results:[]},e}var u=l.prototype;return u.componentDidMount=function(){var t=this.props,e=t.table,r=void 0===e?"":e,n=t.data,a=[],o={};r.split(",").forEach((function(t){var e,r=(e=t,document.querySelector('*[data-table-marker="'+e+'"]').nextElementSibling),n=p(r),l=n.headers,i=n.tableData;a=[].concat(_(a),_(l)),o=Object.assign({},o,{},i)}));var l=n&&JSON.parse(n)||{};a=[].concat(_(a),_(Object.keys(l))),o=Object.assign({},o,{},l),this.setState({headers:a,tableData:o})},u.rollResult=function(t){try{var e=this.state,r=e.tableData,n=void 0===r?{}:r,a=e.headers,l=void 0===a?[]:a,u=e.results,c=t||l.reduce((function(t,e){var r;return Object.assign({},t,((r={})[e]=e,r))}),{}),s=t["~~resultType"]||"replace",d=function(t){var e=t.tableData,r=t.fields,n=t.headers,a=r["~~roll"]||"d"+e[n[0]].length,l=i.a.roll(a).total-1;return Object(o.mapValues)(q({defaultResult:l,tableData:e,fields:r,headers:n}))(A(r))}({tableData:n,headers:l,fields:c});this.setState({results:"append"===s?[].concat(_(u),[d]):[d]})}catch(p){console.error(p),this.setState({error:p})}},u.render=function(){var t=this,e=this.props.buttons,r=this.state,n=(r.tableData,r.results),o=r.error;if(o)return a.a.createElement(O,null,o.toString());var l=e&&JSON.parse(e);return a.a.createElement(b,null,a.a.createElement(j,{buttons:l,rollResult:function(e){return t.rollResult(e)}}),n.map((function(t,e){return a.a.createElement(C,{key:e,result:t})})))},l}(n.Component);e.default=function(t){return a.a.createElement(S,null,a.a.createElement(B,t))}},CJNR:function(t,e,r){"use strict";var n=r("vOnD"),a=r("xdbU"),o=r("vvhN"),l=n.c.button.withConfig({displayName:"Button",componentId:"ekqulj-0"})([""," padding:0.25em 0.75em;font-weight:600;background:",";color:white;border-radius:3px;cursor:pointer;outline:none;&:hover{background:",";}"],a.b,o.d,o.c);e.a=l}}]);
//# sourceMappingURL=20-cea35a6cf339e5c4a680.js.map